<!DOCTYPE html>

<html>

	<head>

		<title>
			Commusic
		</title>

		<style>

			#grad1 {
				background-size: cover;
				width: cover;
    			box-shadow: 0px 0px 5 #d8e5f3;
    			/* alternative for browsers that do not support gradients */
    			background-color: #0d1a26; 
    			/* gradient default */
    			background-image: linear-gradient(to bottom right, #2d5986, #009999, #0d1a26);
				}
			html {
				background-color: #0d1a26; /* For browsers that do not support gradients */
				margin: auto;
				}
			p {
				color:#66cc99;
				text-align: center;
				margin:auto;
			}
			h1 {
				text-align: center;
				font-size:4vw;
				letter-spacing: 1px;
				text-shadow: -1px 0 ##339966, 0 1px #0d261a, 1px 0 #0d261a, 0 -1px #0d261a;
			}
			h2 {
				text-align: center;
				font-size:3vw;
				text-shadow: -1px 0 #06130d, 0 1px #06130d, 1px 0 #06130d, 0 -1px #06130d;
			}
			form {
				text-align: center;
				font-size:2.5vw;
			}
			input {
    			width: 40%;
    			font-size:2.5vw;
			}

		</style>

		<script src="https://unpkg.com/axios/dist/axios.min.js"></script>

	</head>


	<div id="grad1" style="text-align:center;margin:auto;color:#d8e5f3;font-weight:bold;font-size:10vw;text-shadow: 3px 3px 5px #060c13;">
		Commusic
	</div>
	

	<body>


		<h1 style="color:#339966;">
			Community Video Queue
		</h1>


		<h2 style="color:#2d8659;">
			Paste the Youtube URL into the box below:
		</h2>
		

		<form>

			<p>
				Video URL : 
			</p>

			<p>
				<input type="text" name="youtubeaddress" id="videoId" />
			</p>

			<br />

			<p>
				    Password : 
			</p>

			<p>
				<input type="password" name="pwd">

			</p>

			<br />
			
			<input id="urlform" type="button" value="Submit" onclick="submitURL()" style="width: 25%;">

		</form>
		
		<script>
				function submitURL() {
			    	//document.getElementById("urlform").submit();
						axios.post("http://127.0.0.1:8080/output",
						    {
						    	"videoId": document.getElementById("videoId").value,
						    	"service": "youtube"
						    }
						).then(function (response) {
							document.getElementById("videoId").value = "";
						}).catch(function (error) {
                            if (error.response) {
                              // The request was made and the server responded with a status code
                              // that falls out of the range of 2xx
                              console.log(error.response.data);
                              console.log(error.response.status);
                              console.log(error.response.headers);
                            } else if (error.request) {
                              // The request was made but no response was received
                              // `error.request` is an instance of XMLHttpRequest in the browser and an instance of
                              // http.ClientRequest in node.js
                              console.log(error.request);
                            } else {
                              // Something happened in setting up the request that triggered an Error
                              console.log('Error', error.message);
                            }
                            console.log(error.config);
                        })

				}
		</script>

	</body>

</html>